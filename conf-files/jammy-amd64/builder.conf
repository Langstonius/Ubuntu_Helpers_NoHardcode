#!/bin/bash

NUM_CORES=4

# [MISC]
#

flavor="ubuntu"
build_name="jammy"
build_version="2204"
arch="amd64"
log_file="/var/log/lmce-build.log"


export KVER="6.8.0-52-generic"
export KVER_SHORT="6.8.0"
export KVER_VERY_SHORT="6.8"
export KVER_LONG="6.8.0-52.xx"
export KDIR="/usr/src/linux-source-${KVER_SHORT}"

# [LOCATIONS]
#
# Location on build systems where different files
# are stored douring the build process
#

build_dir="/var/lmce-build"			# Root directory of all the other folders
replacements_dir="${build_dir}/replacements"	# Replacements debs
svn_dir="${build_dir}/svn"			# Svn is checkout dir
out_dir="${build_dir}/out"			# Debs built by MakerRlease
extras_dir="${build_dir}/extras"		# Debs built externaly
mkr_dir="${build_dir}/MakeRelease"		# MakeRelease bins and libs
diskless_dir="${build_dir}/diskless"		# Diskless related tools
local_mirror_dir="/var/www"			# Local repository (final deb,iso)

lmce_build_conf_dir="/etc/lmce-build"
build_scripts_dir="/usr/local/lmce-build/build-scripts"


# [URLS]
#
# URLs used by the build system
#

closed_source_debs_url=""

rsync_skin_host="rsync.linuxmce.org"
rsync_media_host="rsync.linuxmce.org"

http_skin_host="download.linuxmce.org"
http_media_host="download.linuxmce.org"



# [GIT]
#
# Location and configuration of Git repository
#

git_branch_name="LinuxMCE"                                # The local directory name for the repo
git_branch="main"                                         # The branch to checkout (main, master, etc.)
git_url="https://github.com/linuxmce/linuxmce.git"        # Main Git repository URL

git_dir="${build_dir}/git"                                # Directory to store git repositories
git_private_url=""                                        # URL for private repositories [optional]


# [SQL]
#
# Database name, source and destination for build database
#

sql_build_host="localhost"
sql_build_user="root"

###
### WARNING: if you change the values above, there are some extra instructions 
###  in the build DB that will fail, add entries for "sqlCVS_MySqlHost" &
###  "sqlCVS_MySqlUser" to /etc/pluto.conf, and "host" & "user" in the 
###  [mysqldump] section of /etc/mysql/my.cnf as well.
###


# [SQLCVS]
#
# Database name, source and destination for sqlcvs
#

sqlcvs_host="schema.linuxmce.org"
sqlcvs_port=""
sqlcvs_user="builder"
sqlcvs_pass=""


# [EMAIL REPORTING]
# List of the users that will get the mails about build status (error, success)
mail_to="nobody@example.com"
# Text to prefix the mail subject
mail_subject_prefix="[Builder ${build_version} ${arch}]"


# Uncomment to avoid DVD build step[s]
do_not_build_sl_dvd="yes"
do_not_build_dl_dvd="yes"


# Uncomment to create fake win32 binaries
win32_create_fake="yes"


# Uncomment to download win32 binaries from another location
win32_ftp_url="ftp://tschak.homelinux.com/WinBinaries/Windows_Output_LinuxMCE/src/"
win32_ftp_user="win32builder"
win32_ftp_password="adam12"

# Include a release flavor conf file (ubuntu.conf, raspbian.conf)
if [[ -f /etc/lmce-build/"$flavor".conf ]]; then
	. /etc/lmce-build/"$flavor".conf
fi

# Include a custom config file that can override any of the existing options
if [[ -f /etc/lmce-build/builder.custom.conf ]] ;then
	. /etc/lmce-build/builder.custom.conf
fi
